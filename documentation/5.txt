//this code is a user repository

public class UserRepository : RepositoryBase<RegisterModel>
    {
        public override bool Add(RegisterModel user)
        {
            bool isSuccess = false;
            if (user != null)
            {
                ExternalUserInformation newExtUser = new ExternalUserInformation
                {
                    UserId = user.UserId,
                    GroupId = user.GroupId,
                    Email = user.Email,
                    SecurityQuestion = user.SecurityQuestion,
                    SecurityAnswer = user.SecurityAnswer,
                    RegTime = user.RegTime,
                    LastLoginTime = user.LastLoginTime
                };
                dbContext.ExternalUsers.Add(newExtUser);
                isSuccess = dbContext.SaveChanges() > 0;
            }
            return isSuccess;
        }

        public override bool Update(RegisterModel user)
        {
            var userObj = dbContext.ExternalUsers.SingleOrDefault(u => u.UserId == user.UserId);
            if (userObj == null) return false;
            userObj = user;
            if (dbContext.SaveChanges() > 0) return true;
            else return false;
        }
    }